{% extends 'layout.html'%}

{% block body %}
<script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css" />
<h2>{{ user.name }}</h2>

<div id="sample-heatmap"></div>

<script type="text/javascript">
  var cal = new CalHeatMap();
  var now = new Date();
  cal.init({
     itemSelector: '#sample-heatmap',
     domain: "week",
     subDomain: "day",
     data: {{record}},
     start: new Date(now.getFullYear(), now.getMonth() - 11),
     cellSize: 20,
     range: 52,
     legend: [1, 2, 3, 4],
     domainLabelFormat: '%m',
     tooltip: true,
   });
</script>
<a href="{{url_for('edit_user', user_id = user.user_id)}}">Edit User</a>

{% endblock %}
