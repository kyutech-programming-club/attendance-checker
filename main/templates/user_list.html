{% extends "layout.html" %}

{% block body %}
<script type="text/javascript" src="https://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/cal-heatmap/3.3.10/cal-heatmap.css" />

  <h2>メンバー</h2> 

  <ul>
  {% for user in users %}
  <li><a href="{{ url_for('user_detail', user_id=user.id) }}">{{ user.name }}</a></li>
  {% endfor %}
  </ul>


<div id="sample-heatmap"></div>

<script type="text/javascript">
  var cal = new CalHeatMap();
  var now = new Date();
  cal.init({
     itemSelector: '#sample-heatmap',
     domain: "week",
     subDomain: "day",
     data: {{record}},
     start: new Date(now.getFullYear(), now.getMonth() - 11),
     cellSize: 20,
     range: 52,
     legend: [1, 3, 5, 10],
     domainLabelFormat: '%m',
     tooltip: true,
   });
</script>

  <a href="{{ url_for('new_user') }}">新規登録</a>

{% endblock body %}
